<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script>
		window.onload = function(){
			var btn1 = document.getElementById("btn1");
			var ul = document.getElementById("u1");
			btn1.onclick = function(){
				//创建一个新的li
				var li = document.createElement("li");
				li.innerHTML = "<a href='javascript:;' class='link'>新超链接</a>";
				ul.appendChild(li);
			}
			//为每一个超链接都绑定一个单击响应函数，这种操作比较麻烦
			//而且这种操作只能为已有的超链接设置事件，新添加的超链接必须重新绑定
			// var allA = document.getElementsByTagName("A");
			// for(var i = 0 ;i < allA.length; i++ ){
			// 	allA[i].onclick = function(){
			// 		alert("单击响应函数");
			// 	}
			// }

			//事件委派: 将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的事件触发时，会一直冒泡到祖先元素，
			//从而通过祖先元素的响应函数来处理事件
			//事件委派是利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能

			ul.onclick = function(event){ 
				event = event || window.event;

				// event中的target 表示触发事件的对象元素
				// alert(event.target);
				
				//如果触发事件是我们希望的元素，则执行否则不执行
				if(event.target.className == "link"){
				   alert("我是ul");
				}
			}
		}
	</script>
</head>
<body>
	<button id="btn1">添加超链接</button>
	<ul id="u1">
		<li><a href="javascript:;" class="link">超链接一</a></li>
		<li><a href="javascript:;" class="link">超链接二</a></li>
		<li><a href="javascript:;" class="link">超链接三</a></li>
	</ul>
</body>
</html>